# Extreme Reminder - Mac ネイティブアプリ開発プロンプト

## プロジェクト概要
シンプルで最低限の機能を持つMacネイティブのリマインダーアプリケーションを開発する。設定した時間が経過したら、画面全面に通知を表示し、他の作業中でも必ず最前面に表示される。

## 技術スタック
- Electron
- Vue 3
- TypeScript
- テストフレームワーク: Vitest
- E2Eテスト: Playwright

## 開発手法
- テスト駆動開発（TDD）
- ユースケース駆動開発（UCDD）による要件定義

## フェーズ1: 要件定義（ユースケース駆動）

### 主要アクター
- ユーザー: リマインダーを設定・使用する人

### ユースケース一覧
1. **UC-001: リマインダーを設定する**
   - ユーザーは時間（分単位）を入力してリマインダーを開始できる
   - 最小限のUIで直感的に操作可能

2. **UC-002: リマインダー通知を受け取る**
   - 設定時間経過後、画面全体に通知が表示される
   - 通知は必ず最前面に表示される
   - 他のアプリケーションの上に強制的に表示される

3. **UC-003: リマインダーを停止する**
   - ユーザーは実行中のリマインダーをキャンセルできる

4. **UC-004: 通知を閉じる**
   - ユーザーは表示された通知を確認後、閉じることができる

## フェーズ2: TDDによる実装

### ステップ1: プロジェクトセットアップ
```bash
# プロジェクト作成
npm create electron-app@latest extreme-reminder -- --template=vite-typescript

# Vue 3とテスト環境のセットアップ
cd extreme-reminder
npm install vue@next @vitejs/plugin-vue
npm install -D vitest @vue/test-utils @testing-library/vue playwright @vitest/ui happy-dom
```

### ステップ2: Vitest設定
```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  test: {
    globals: true,
    environment: 'happy-dom',
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html']
    }
  }
})
```

### ステップ3: 各機能のTDD実装順序

1. **タイマーロジックのテスト作成と実装**
   ```typescript
   // src/services/__tests__/Timer.spec.ts
   import { describe, it, expect, vi, beforeEach } from 'vitest'
   import { Timer } from '../Timer'
   ```
   - タイマーの開始、停止、時間経過検知のテスト
   - `Timer.ts`: タイマークラスの実装

2. **Vue コンポーネントのテスト作成と実装**
   ```typescript
   // src/components/__tests__/TimerInput.spec.ts
   import { describe, it, expect } from 'vitest'
   import { mount } from '@vue/test-utils'
   import TimerInput from '../TimerInput.vue'
   ```
   - 時間入力コンポーネントのテスト
   - 全画面通知コンポーネントのテスト

3. **Electron メインプロセスのテスト作成と実装**
   ```typescript
   // src/main/__tests__/window-manager.spec.ts
   import { describe, it, expect, vi } from 'vitest'
   ```
   - ウィンドウ管理、最前面表示機能のテスト

4. **統合テスト**
   - E2Eテストで全体の動作を確認

### ステップ4: 最小限UI設計
- メインウィンドウ: 時間入力フィールドと開始/停止ボタンのみ
- 通知画面: 全画面表示、中央に「時間が経過しました」メッセージと閉じるボタン

## フェーズ3: 必須機能要件

### コア機能
1. 時間設定（分単位）
2. カウントダウン開始/停止
3. 時間経過時の全画面通知
4. 通知の最前面強制表示
5. 通知を閉じる機能

### 非機能要件
1. macOS対応
2. 軽量で高速な動作
3. シンプルで直感的なUI
4. 他アプリケーションの上に確実に表示

## 開発コマンド例

```bash
# 開発開始
npm run dev

# Vitestでテスト実行
npm run test
npm run test:watch
npm run test:ui  # Vitest UIでテスト結果を確認

# カバレッジ確認
npm run test:coverage

# ビルド
npm run build

# E2Eテスト
npm run test:e2e
```

## package.jsonスクリプト設定
```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build && electron-builder",
    "test": "vitest",
    "test:watch": "vitest --watch",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage",
    "test:e2e": "playwright test"
  }
}
```

## 実装の注意点
- Electronの`alwaysOnTop`と`setAlwaysOnTop(true)`を使用して最前面表示を実現
- `setFullScreen(true)`または`setKiosk(true)`で全画面表示
- Vitestのモック機能（`vi`）を活用してElectron APIをテスト
- テストファーストで各機能を実装
- 不要な機能は一切追加しない（YAGNI原則）